<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>PolyWizz</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css" />
    <!-- Ionicons -->
    <link
      rel="stylesheet"
      href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
    />
    <!-- Theme style -->
    <link rel="stylesheet" href="Assets/css/adminlte.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>

    <script src=" https://printjs-4de6.kxcdn.com/print.min.js"></script>
    <link
      rel="stylesheet"
      href="https://printjs-4de6.kxcdn.com/print.min.css"
    />

    <script src="https://unpkg.com/markerjs2/markerjs2.js"></script>

    <!-- <script src="Assets/js/pdf.js"></script>
    <script src="Assets/js/pdf.worker.js"></script>
    <script src="script.js"></script> -->
    <!-- 
    <script src="https://superal.github.io/canvas2image/canvas2image.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script> -->

    <link
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700"
      rel="stylesheet"
    />

    <style>
      #app {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }
      .appp {
        font-weight: bold;
        font-size: 1rem;
      }

      #sampleImage,
      #sourceImage {
        width: 40%;
      }
      .__markerjs2_ {
        margin-top: -0.5em !important;
        margin-left: 0em !important;
      }
      .normal {
        position: relative;
      }

      .text {
        position: absolute;
        width: 350px;
        background-color: black;
        color: white;
        padding: 0.3em;
        right: 0;
        top: 0;
      }
      @media only screen and (max-width: 700px) {
        #sampleImage,
        #sourceImage {
          width: 300px !important;
        }
      }
    </style>
  </head>
  <body class="hold-transition sidebar-mini">
    <div class="wrapper">
      <!-- Navbar -->
      <nav
        class="
          main-header
          navbar navbar-expand navbar-white navbar-light
          d-flex
          align-items-center
        "
      >
        <!-- Left navbar links -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#"
              ><i class="fas fa-bars"></i
            ></a>
          </li>
          <li class="nav-item d-none d-sm-inline-block">
            <a href="./Dashboard.html" class="nav-link">Home</a>
          </li>
        </ul>

        <!-- SEARCH FORM -->
        <form class="form-inline ml-3">
          <div class="input-group input-group-sm">
            <input
              class="form-control form-control-navbar"
              type="search"
              placeholder="Search"
              aria-label="Search"
            />
            <div class="input-group-append">
              <button class="btn btn-navbar" type="submit">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
        </form>
        <p class="ml-5 appp">Click on the file to Add Text and/or Signature</p>
      </nav>
      <!-- /.navbar -->

      <!-- Main Sidebar Container -->
      <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Sidebar -->
        <div class="sidebar">
          <!-- Sidebar user panel (optional) -->
          <div class="user-panel mt-3 pb-3 mb-3 d-flex ml-2">
            <div class="info">
              <strong
                ><a href="#" class="d-block">Firstname Lastname</a></strong
              >
            </div>
          </div>

          <!-- Sidebar Menu -->
          <nav class="mt-2">
            <ul
              class="nav nav-pills nav-sidebar flex-column"
              data-widget="treeview"
              role="menu"
              data-accordion="false"
            >
              <!-- Add icons to the links using the .nav-icon class
           with font-awesome or any other icon font library -->

            

              <li class="nav-item pt-3">
                <a href="add-new.html" class="nav-link">
                  <i class="fa fa-plus nav-icon"></i>
                  <p>Add New Document</p>
                </a>
              </li>

              <li class="nav-item pt-3">
                <a href="create-new.html" class="nav-link">
                  <i class="fa fa-file nav-icon"></i>
                  <p>Create New Document</p>
                </a>
              </li>

              <li class="nav-item pt-3">
                <a href="view-status.html" class="nav-link">
                  <i class="fa fa-street-view nav-icon"></i>
                  <p>View Status</p>
                </a>
              </li>

              <li class="nav-item pt-3">
                <a href="select-document.html" class="nav-link">
                  <i class="fa fa-check nav-icon"></i>
                  <p>Select Existing Document</p>
                </a>
              </li>

              <li class="nav-item pt-3">
                <a href="add-signature.html" class="nav-link">
                  <i class="fas fa-file-signature nav-icon"></i>
                  <p>Add Signature</p>
                </a>
              </li>

              <li class="nav-item has-treeview pt-3">
                <a href="#" class="nav-link">
                  <i class="nav-icon fa fa-history"></i>
                  <p>
                    History
                    <i class="fas fa-angle-left right"></i>
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="process-history.html" class="nav-link">
                      <i class="fa fa-tasks nav-icon"></i>
                      <p>In Process</p>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="all-history.html" class="nav-link">
                      <i class="fa fa-history nav-icon"></i>
                      <p>All History</p>
                    </a>
                  </li>
                </ul>
              </li>

              <li class="nav-item pt-3">
                <a href="logout.html" class="nav-link">
                  <i class="fa fa-power-off nav-icon"></i>
                  <p>Logout</p>
                </a>
              </li>
            </ul>
          </nav>
          <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
      </aside>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <!-- <section class="content-header">
          <div class="container-fluid">
            <div class="row mb-2">
              <div class="col-sm-6">
                <h1>Form Builder</h1>
              </div>
              <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                  <li class="breadcrumb-item"><a href="#">Home</a></li>
                  <li class="breadcrumb-item active">Create Form</li>
                </ol>
              </div>
            </div>
          </div>
          <!-- /.container-fluid -->
        <!-- </section> -->

        <!-- Main content -->
        <section class="content">
          <div class="row">
            <div class="col-md-12">
              <div class="card card-outline card-info">
                <!-- /.card-header -->
                <div class="card-body pad">
                  <div class="row">
                    <div class="col-md-12 normal">
                      <div
                        style="
                          position: relative;
                          display: flex;
                          flex-direction: column;
                          align-items: center;
                          justify-content: center;
                        "
                      >
                        <!-- we are putting a copy of the original image under the result image so it's always annotation-free -->
                        <img
                          id="sourceImage"
                          src="IMG.jpg"
                          style="max-height: 80%"
                          crossorigin="anonymous"
                        />
                        <img
                          id="sampleImage"
                          src="IMG.jpg"
                          style="min-height: 100%; position: absolute"
                          crossorigin="anonymous"
                        />
                      </div>

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.col-->
          </div>
          
          <!-- ./row -->
        </section>
        <!-- /.content -->
      </div>
      <!-- /.content-wrapper -->
      <footer class="main-footer"></footer>
    </div>
    <!-- ./wrapper -->

    <!-- jQuery -->
    <script src="plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- AdminLTE App -->
    <script src="Assets/js/adminlte.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="Assets/js/demo.js"></script>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <script>
      let sourceImage, targetRoot, maState;

      // save references to the original image and its parent div (positioning root)
      function setSourceImage(source) {
        sourceImage = source;
        targetRoot = source.parentElement;
      }

      function showMarkerArea(target) {
        const markerArea = new markerjs2.MarkerArea(sourceImage);
        // since the container div is set to position: relative it is now our positioning root
        // end we have to let marker.js know that
        markerArea.targetRoot = targetRoot;
        markerArea.addRenderEventListener((imgURL, state) => {
          target.src = imgURL;
          // save the state of MarkerArea
          maState = state;

          
      
        });
        markerArea.show();
        // if previous state is present - restore it
        if (maState) {
          markerArea.restoreState(maState);
        }
      }

      

      setSourceImage(document.getElementById("sourceImage"));

      const sampleImage = document.getElementById("sampleImage");
      sampleImage.addEventListener("click", () => {
        showMarkerArea(sampleImage);
        
      });
     
    </script>
  </body>
</html>
